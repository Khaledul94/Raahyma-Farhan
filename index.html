<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Raahyma â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* { box-sizing: border-box; }
body {
  margin:0;
  min-height:100vh;
  font-family:'Segoe UI',sans-serif;
  background:linear-gradient(-45deg,#ffafbd,#ffc3a0,#ffdde1,#ee9ca7);
  background-size:400% 400%;
  animation:bg 12s ease infinite;
  display:flex;
  justify-content:center;
  align-items:center;
}
@keyframes bg {
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}
.card {
  width:95%;
  max-width:480px;
  padding:30px;
  background:rgba(255,255,255,.7);
  backdrop-filter:blur(14px);
  border-radius:24px;
  box-shadow:0 30px 60px rgba(0,0,0,.25);
  text-align:center;
}
.hidden { display:none; }
img {
  width:100%;
  border-radius:20px;
  margin-top:15px;
  animation:fade .7s ease;
}
@keyframes fade {
  from{opacity:0;transform:scale(.95)}
  to{opacity:1;transform:scale(1)}
}
button {
  margin-top:18px;
  padding:14px 28px;
  border:none;
  border-radius:30px;
  background:linear-gradient(135deg,#e75480,#ff8fab);
  color:white;
  font-size:16px;
  cursor:pointer;
}
input, textarea {
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:14px;
  border:none;
}
.option {
  margin:10px 0;
  padding:12px;
  border-radius:14px;
  background:white;
  cursor:pointer;
}
.correct { background:#c8f7c5 }
.wrong { background:#f7c5c5 }
.heart {
  font-size:42px;
  cursor:pointer;
  animation:pulse 1.4s infinite;
}
@keyframes pulse {
  0%{transform:scale(1)}
  50%{transform:scale(1.3)}
  100%{transform:scale(1)}
}
.small { font-size:14px; color:#555 }
.feedback-box {
  background:white;
  border-radius:12px;
  padding:8px;
  margin:6px 0;
  word-wrap: break-word;
}
</style>
</head>

<body>

<audio id="music" loop muted>
  <source src="song.mp3.mp3" type="audio/mpeg">
</audio>

<div class="card">

<!-- AUTH -->
<div id="auth">
  <h2>ğŸ” Authorization</h2>
  <input id="username" placeholder="Username (anything)">
  <input id="pass" placeholder="Password">
  <button id="loginBtn">Enter</button>
  <p id="err" class="small"></p>
</div>

<!-- PHOTOS -->
<div id="photosDiv" class="hidden">
  <img id="photo">
  <button id="nextPhotoBtn">Next ğŸ«°ğŸ»</button>
</div>

<!-- FIRST MESSAGE -->
<div id="messagePage1" class="hidden">
  <p id="typingMessage1"></p>
  <button id="nextMsgBtn">Next ğŸ’Œ</button>
</div>

<!-- SECOND MESSAGE -->
<div id="messagePage2" class="hidden">
  <p id="typingMessage2"></p>
  <div class="heart" id="secretHeart">â¤ï¸</div>
  <p id="credit" class="hidden small">
    Built with love & code by <strong>Khaled</strong> ğŸ’»â¤ï¸
  </p>
  <button id="continueBtn">Continue ğŸ’˜</button>
</div>

<!-- QUIZ -->
<div id="quizDiv" class="hidden">
  <h3 id="q"></h3>
  <div id="opts"></div>
</div>

<!-- RESULT -->
<div id="resultDiv" class="hidden">
  <h2 id="finalTitle"></h2>
  <p id="finalMsg"></p>
  <button id="feedbackBtn">Leave feedback ğŸ’¬</button>
</div>

<!-- FEEDBACK -->
<div id="feedbackDiv" class="hidden">
  <h3>Anonymous Feedback</h3>
  <p class="small">Max 10 characters Â· Max 5 total</p>
  <textarea id="fbText" maxlength="10" placeholder="Say somethingâ€¦"></textarea>
  <button id="saveFbBtn">Submit</button>

  <h4 style="margin-top:15px;">Previous feedback</h4>
  <div id="fbList"></div>
</div>

</div>

<script>
window.onload=function(){

const PASSWORD = "Iâ€™m not fat, Iâ€™m fatastic";
const photos = ["photo1.jpeg","photo2.jpeg","photo3.jpeg.JPG","photo4.jpeg.JPG","photo5.jpeg.JPG"];
let p=0, qi=0, score=0, hc=0;

// Romantic Messages
const message1 = `Happy Valentineâ€™s Day Raahyma! â¤ï¸
This is your official proof that someone loves you.
Distance does not scare me.
Time does not scare me.
Missing you a little is worth it.`;
const message2 = `I know weâ€™re miles apart,
but I wanted to do something small
to remind you how close you are to my heart ğŸ«¶ğŸ».
No matter how far we are,
my heart knows exactly where it belongs,
with you, always ğŸ«°ğŸ».
I canâ€™t wait to be with you ğŸ¤ŒğŸ»`;

const quizData = [
 {q:"Who is the cutest?",o:["Me","You","Both","You obviously"],a:3},
 {q:"This page was made with?",o:["HTML","Love","Effort","All"],a:3},
 {q:"Best Valentine gift?",o:["Flowers","Chocolate","This page","Everything"],a:2},
 {q:"Who deserves hugs?",o:["Everyone","You","Me","You again"],a:3},
 {q:"Distance means?",o:["Nothing","Everything","Pain","Love"],a:0},
 {q:"Final verdict?",o:["Fail","Pass","Cookie","Pass+Cookie"],a:3},
 {q:"Did you smile?",o:["No","Maybe","Yes","Obviously"],a:3}
];

// ELEMENTS
const auth = document.getElementById("auth");
const passInput = document.getElementById("pass");
const err = document.getElementById("err");
const photosDiv = document.getElementById("photosDiv");
const photoEl = document.getElementById("photo");
const nextPhotoBtn = document.getElementById("nextPhotoBtn");
const music = document.getElementById("music");

const messagePage1 = document.getElementById("messagePage1");
const typingMessage1 = document.getElementById("typingMessage1");
const nextMsgBtn = document.getElementById("nextMsgBtn");

const messagePage2 = document.getElementById("messagePage2");
const typingMessage2 = document.getElementById("typingMessage2");
const secretHeart = document.getElementById("secretHeart");
const credit = document.getElementById("credit");
const continueBtn = document.getElementById("continueBtn");

const quizDiv = document.getElementById("quizDiv");
const qEl = document.getElementById("q");
const optsEl = document.getElementById("opts");

const resultDiv = document.getElementById("resultDiv");
const finalTitle = document.getElementById("finalTitle");
const finalMsg = document.getElementById("finalMsg");

const feedbackDiv = document.getElementById("feedbackDiv");
const feedbackBtn = document.getElementById("feedbackBtn");
const fbText = document.getElementById("fbText");
const saveFbBtn = document.getElementById("saveFbBtn");
const fbList = document.getElementById("fbList");

// LOGIN
document.getElementById("loginBtn").onclick = function(){
  if(passInput.value===PASSWORD){
    auth.classList.add("hidden");
    photosDiv.classList.remove("hidden");
    photoEl.src = photos[0];
    music.muted=false; music.play().catch(()=>{});
  } else err.innerText="Wrong password ğŸ‘€";
};

// NEXT PHOTO
nextPhotoBtn.onclick = function(){
  p++;
  if(p<photos.length) photoEl.src=photos[p];
  else{
    photosDiv.classList.add("hidden");
    messagePage1.classList.remove("hidden");
    typeMessage(message1, typingMessage1);
  }
};

// TYPE EFFECT FUNCTION
function typeMessage(text, el){
  el.innerHTML="";
  let i=0;
  function type(){
    if(i<text.length){
      el.innerHTML += text[i]==="\n"? "<br>":text[i];
      i++;
      setTimeout(type, 40);
    }
  }
  type();
}

// MESSAGE1 NEXT
nextMsgBtn.onclick=function(){
  messagePage1.classList.add("hidden");
  messagePage2.classList.remove("hidden");
  typeMessage(message2, typingMessage2);
};

// SECRET HEART (3 clicks)
secretHeart.onclick=function(){
  hc++;
  if(hc===3) credit.classList.remove("hidden");
};

// CONTINUE TO QUIZ
continueBtn.onclick = function(){
  messagePage2.classList.add("hidden");
  quizDiv.classList.remove("hidden");
  loadQ();
};

// LOAD QUIZ
function loadQ(){
  const qd=quizData[qi];
  qEl.innerText=qd.q;
  optsEl.innerHTML="";
  qd.o.forEach((t,i)=>{
    const d=document.createElement("div");
    d.className="option";
    d.innerText=t;
    d.onclick=()=>answer(i,d);
    optsEl.appendChild(d);
  });
}

// ANSWER
let qi=0, score=0;
function answer(i,el){
  if(i===quizData[qi].a){ score++; el.classList.add("correct"); }
  else el.classList.add("wrong");
  setTimeout(()=>{
    qi++;
    qi<quizData.length ? loadQ() : finishQuiz();
  },600);
}

// FINISH QUIZ
function finishQuiz(){
  quizDiv.classList.add("hidden");
  resultDiv.classList.remove("hidden");
  if(score===quizData.length){
    finalTitle.innerText="PASSED ğŸ’–";
    finalMsg.innerText="Perfect! You answered all correctly. Cookie deserved ğŸª";
  } else{
    finalTitle.innerText="FAILED ğŸ˜Œ";
    finalMsg.innerText=`Score ${score}/${quizData.length}. Cookies are only for perfect scores ğŸ˜‰`;
  }
}

// FEEDBACK
feedbackBtn.onclick=function(){
  resultDiv.classList.add("hidden");
  feedbackDiv.classList.remove("hidden");
  renderFeedback();
};

saveFbBtn.onclick=function(){
  let list = JSON.parse(localStorage.getItem("feedback")||"[]");
  if(list.length>=5){ alert("Feedback limit reached ğŸ’Œ"); return; }
  const text=fbText.value.trim();
  if(!text){ alert("Write something first ğŸ™‚"); return; }
  list.push(text);
  localStorage.setItem("feedback",JSON.stringify(list));
  fbText.value="";
  renderFeedback();
};

function renderFeedback(){
  const list = JSON.parse(localStorage.getItem("feedback")||"[]");
  fbList.innerHTML=list.map(f=>`<div class="feedback-box">"${f}"</div>`).join("");
}

};
</script>

</body>
</html>
